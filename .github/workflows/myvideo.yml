name: Video Maker Fixed
on: [workflow_dispatch]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    
    - name: 1. Install FFmpeg
      run: |
        echo "ğŸ› ï¸ Installing FFmpeg..."
        sudo apt-get update
        sudo apt-get install -y ffmpeg
        echo "âœ… FFmpeg version:"
        ffmpeg -version | head -1
        
    - name: 2. Create simple video
      run: |
        echo "ğŸ¬ Creating video..."
        # Ø±ÙˆØ´ Ù‚Ø·Ø¹ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ÙˆÛŒØ¯ÛŒÙˆ
        ffmpeg -f lavfi -i testsrc=duration=5:size=640x360:rate=25 \
               -c:v libx264 -pix_fmt yuv420p \
               video_test.mp4
        
        echo "ğŸ“Š Video info:"
        ls -lh video_test.mp4
        file video_test.mp4 || true
        
    - name: 3. Upload video
      uses: actions/upload-artifact@v3
      with:
        name: my-video-file
        path: video_test.mp4
        if-no-files-found: error
        
    - name: 4. Final message
      run: echo "âœ… Workflow completed successfully!"
