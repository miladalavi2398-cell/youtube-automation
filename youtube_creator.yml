name: YouTube Video Creator
on:
  workflow_dispatch:
  schedule:
    - cron: '0 5 * * *'  # Ù‡Ø± Ø±ÙˆØ² Û¸:Û³Û° ØµØ¨Ø­ Ø¨Ù‡ ÙˆÙ‚Øª Ø§ÛŒØ±Ø§Ù†

jobs:
  create-video:
    runs-on: ubuntu-latest
    
    steps:
    # Û±. Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ
    - name: ðŸ“¦ Install tools
      run: |
        sudo apt-get update
        sudo apt-get install -y ffmpeg
        echo "âœ… Tools installed"
        
    # Û². Ø³Ø§Ø®Øª ÙˆÛŒØ¯ÛŒÙˆÛŒ Ù†Ù…ÙˆÙ†Ù‡
    - name: ðŸŽ¬ Create video
      run: |
        # Ø³Ø§Ø®Øª ÙˆÛŒØ¯ÛŒÙˆÛŒ Û±Û° Ø«Ø§Ù†ÛŒÙ‡â€ŒØ§ÛŒ
        ffmpeg -f lavfi -i color=c=navy:s=1280x720:d=10 \
               -f lavfi -i sine=frequency=440:duration=10 \
               -c:v libx264 -c:a aac \
               -vf "drawtext=text='Daily Video %{localtime\\:%Y-%m-%d}':fontcolor=white:fontsize=40:x=(w-text_w)/2:y=(h-text_h)/2" \
               -pix_fmt yuv420p \
               video_output.mp4
               
        echo "ðŸŽ¥ Video created successfully"
        ls -lh video_output.mp4
        
    # Û³. Ø°Ø®ÛŒØ±Ù‡ ÙˆÛŒØ¯ÛŒÙˆ
    - name: ðŸ“¤ Upload video
      uses: actions/upload-artifact@v3
      with:
        name: daily-video
        path: video_output.mp4
        retention-days: 7
        
    # Û´. Ú¯Ø²Ø§Ø±Ø´
    - name: ðŸ“Š Report
      run: |
        echo "========================================"
        echo "âœ… YOUTUBE VIDEO CREATED!"
        echo "ðŸ“… Date: $(date)"
        echo "ðŸ“¦ Artifact: 'daily-video'"
        echo "ðŸ“¥ Download from Actions â†’ Artifacts"
        echo "========================================"
